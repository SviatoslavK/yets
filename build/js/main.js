"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Carousel(e){function t(e,t,n){var r=b.querySelectorAll("."+x+" > ul li")[e];r.style.marginLeft=t,b.querySelector("."+x+" > ul").removeChild(r),b.querySelector("."+x+" > ul").insertAdjacentHTML(n,r.outerHTML)}function n(){var e=document.createElement("ul");e.classList.add(j),e.addEventListener("click",a.bind(this));for(var t=0;t<P;t++){var n=document.createElement("li");n.setAttribute("data-position",t),e.appendChild(n)}b.appendChild(e),r()}function r(){switch([].forEach.call(b.querySelectorAll("."+j+" li"),function(e){e.classList.remove("is-active")}),H){case-1:H=P-1;break;case P:H=0;break;default:H=H}b.querySelectorAll("."+j+" li")[H].classList.add("is-active")}function a(e){"LI"===e.target.tagName&&s(e.target.getAttribute("data-position"))}function l(){var e=document.createElement("button");e.innerHTML=q,e.classList.add(k);var t=document.createElement("button");t.innerHTML=S,t.classList.add(T),e.addEventListener("click",d),t.addEventListener("click",p),b.appendChild(e),b.appendChild(t)}function i(){var e=document.createElement("button");e.innerHTML=C,e.classList.add(w),e.addEventListener("click",h);var t=document.createElement("button");t.innerHTML=g,t.classList.add($),t.addEventListener("click",_),b.appendChild(e),b.appendChild(t)}function o(e){e.style.marginLeft=""}function c(e){e.style.marginLeft=-b.offsetWidth+"px"}function s(e){var t=H-e;t<0?u(-t,p):u(t,d)}function u(e,t){for(var n=0;n<e;n++)t()}function d(){e.infinite?m():f()}function m(){o(document.querySelectorAll("."+x+" > ul li")[0]),t(P-1,-b.offsetWidth+"px","afterBegin"),y(-1)}function f(){_(),0!==H&&(o(document.querySelectorAll("."+x+" > ul li")[H-1]),y(-1))}function p(){e.infinite?v():E()}function v(){c(document.querySelectorAll("."+x+" > ul li")[1]),t(0,"","beforeEnd"),y(1)}function E(){if(H===P-1)return void _();c(document.querySelectorAll("."+x+" > ul li")[H]),y(1)}function y(t){H+=t,e.dots&&r()}function h(){I||(I=setInterval(p.bind(this),A))}function _(){clearInterval(I),I=null}function L(){return H}var b=document.getElementById(e.elem||"carousel"),A=e.interval||3e3,C=e.btnPlayText||"Play",g=e.btnStopText||"Stop",S=e.arrNextText||"&rsaquo;",q=e.arrPrevText||"&lsaquo;",x="js-Carousel",k="js-Carousel-arrowPrev",T="js-Carousel-arrowNext",j="js-Carousel-dots",$="js-Carousel-btnStop",w="js-Carousel-btnPlay",P=b.querySelectorAll("li").length,H=0,I=null;return P>1&&function(){var r={dots:function(){return n()},arrows:function(){return l()},buttons:function(){return i()},autoplay:function(){return h()},infinite:function(){return t(P-1,-b.offsetWidth+"px","afterBegin")},initial:function(){return s(e.initial>=P?P:e.initial)}};for(var a in r)e.hasOwnProperty(a)&&e[a]&&r[a]()}(),{live:L,show:s,prev:d,next:p,play:h,stop:_}}var headerBlock=document.querySelector(".header"),headerImg=document.querySelector(".header__images");headerImg.style.left=-(1920-headerBlock.clientWidth)/2+"px";var carousel=new Carousel({elem:"carousel",autoplay:!0,infinite:!0,interval:3e3,initial:0,dots:!1,arrows:!1,buttons:!1,btnStopText:"Pause"}),avatars=[].concat(_toConsumableArray(document.querySelectorAll(".client__ava"))),layout=document.querySelector(".clients"),hoverAva=function(e){var t=e.target,n=avatars.filter(function(e){return e!==t}),r=t.parentElement,a=t.parentElement.parentElement,l=t.parentElement.parentElement.parentElement;if("client__ava"===t.classList.value){var i=(t.parentElement.parentElement.parentElement.parentElement,document.createElement("div"));i.classList="comment__overlay",t.hasAttribute("checked")||(t.setAttribute("checked",""),t.appendChild(i),l.classList.add("border__transparent"),a.classList.add("border__transparent"),r.classList.add("border__transparent"),n.map(function(e){return e.parentElement.parentElement.parentElement.parentElement.classList.add("hiddensss")}))}};avatars.map(function(e){e.addEventListener("click",hoverAva)});var disableComment=function(){document.querySelector(".comment__overlay").remove(),avatars.map(function(e){e.removeAttribute("checked"),e.parentElement.parentElement.parentElement.parentElement.classList.remove("hiddensss"),e.parentElement.parentElement.parentElement.classList.remove("border__transparent"),e.parentElement.parentElement.classList.remove("border__transparent"),e.parentElement.classList.remove("border__transparent")})};document.addEventListener("click",function(e){"comment__overlay"!==e.target.classList.value&&"comment__close"!==e.target.classList.value||disableComment()}),$(document).ready(function(){$("#header__form").submit(function(){return $.ajax({type:"GET",url:"../mail.php",data:$("#header__form").serialize()}).done(function(){alert("Спасибо за заявку!")}),!1}),$("#start__form").submit(function(){return $.ajax({type:"GET",url:"../mail.php",data:$("#start__form").serialize()}).done(function(){alert("Спасибо за заявку!")}),!1}),$("#footer__form").submit(function(){return $.ajax({type:"GET",url:"../mail.php",data:$("#footer__form").serialize()}).done(function(){alert("Спасибо за заявку!")}),!1})});